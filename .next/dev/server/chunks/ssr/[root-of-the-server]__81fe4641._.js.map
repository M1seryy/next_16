{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/pkg/libraries/rest-api/service/rest-api.service.ts"],"sourcesContent":["import { defaultShouldDehydrateQuery, isServer, keepPreviousData, QueryClient } from '@tanstack/react-query'\n\nlet browserQueryClient: QueryClient | undefined = undefined\n\n// make query client\nconst makeQueryClient = () => {\n  return new QueryClient({\n    defaultOptions: {\n      queries: {\n        staleTime: 5 * 60 * 1000,\n        gcTime: 10 * 60 * 1000,\n        networkMode: 'offlineFirst',\n        refetchOnWindowFocus: false,\n        placeholderData: keepPreviousData,\n      },\n      dehydrate: {\n        shouldDehydrateQuery: (query) => {\n          return defaultShouldDehydrateQuery(query) || query.state.status === 'pending'\n        },\n      },\n    },\n  })\n}\n\n// query client\nexport const getQueryClient = () => {\n  if (isServer) {\n    return makeQueryClient()\n  } else {\n    if (!browserQueryClient) browserQueryClient = makeQueryClient()\n    return browserQueryClient\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAAA;;AAEA,IAAI,qBAA8C;AAElD,oBAAoB;AACpB,MAAM,kBAAkB;IACtB,OAAO,IAAI,4LAAW,CAAC;QACrB,gBAAgB;YACd,SAAS;gBACP,WAAW,IAAI,KAAK;gBACpB,QAAQ,KAAK,KAAK;gBAClB,aAAa;gBACb,sBAAsB;gBACtB,iBAAiB,2LAAgB;YACnC;YACA,WAAW;gBACT,sBAAsB,CAAC;oBACrB,OAAO,IAAA,0MAA2B,EAAC,UAAU,MAAM,KAAK,CAAC,MAAM,KAAK;gBACtE;YACF;QACF;IACF;AACF;AAGO,MAAM,iBAAiB;IAC5B,IAAI,mLAAQ,EAAE;QACZ,OAAO;IACT,OAAO;QACL,IAAI,CAAC,oBAAoB,qBAAqB;QAC9C,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/pkg/libraries/rest-api/service/index.ts"],"sourcesContent":["export { getQueryClient } from './rest-api.service'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/app/modules/home/home.module.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/modules/home/home.module.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/modules/home/home.module.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/app/modules/home/home.module.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/modules/home/home.module.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/modules/home/home.module.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAoR,GACjT,kDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 97, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/app/modules/home/index.ts"],"sourcesContent":["export { default as HomeModule } from './home.module'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/pkg/libraries/rest-api/fetcher/rest-api.fetcher.ts"],"sourcesContent":["import ky, { type KyInstance } from 'ky'\n\n// fetcher\nconst getBaseUrl = () => {\n  if (typeof window !== 'undefined') {\n    return window.location.origin\n  }\n  return process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'\n}\n\nexport const restApiFetcher: KyInstance = ky.create({\n  prefixUrl: getBaseUrl(),\n  credentials: 'include',\n  throwHttpErrors: false,\n  hooks: {\n    beforeRequest: [\n      (request) => {\n        if (typeof window === 'undefined' && request.url.startsWith('/')) {\n          const fullUrl = new URL(request.url, getBaseUrl()).toString()\n          return new Request(fullUrl, request)\n        }\n        return request\n      },\n    ],\n    afterResponse: [\n      (request, options, response) => {\n        return response\n      },\n    ],\n  },\n})\n"],"names":[],"mappings":";;;;AAAA;;AAEA,UAAU;AACV,MAAM,aAAa;IACjB;;IAGA,OAAO,6DAAmC;AAC5C;AAEO,MAAM,iBAA6B,sKAAE,CAAC,MAAM,CAAC;IAClD,WAAW;IACX,aAAa;IACb,iBAAiB;IACjB,OAAO;QACL,eAAe;YACb,CAAC;gBACC,IAAI,kDAAkB,eAAe,QAAQ,GAAG,CAAC,UAAU,CAAC,MAAM;oBAChE,MAAM,UAAU,IAAI,IAAI,QAAQ,GAAG,EAAE,cAAc,QAAQ;oBAC3D,OAAO,IAAI,QAAQ,SAAS;gBAC9B;gBACA,OAAO;YACT;SACD;QACD,eAAe;YACb,CAAC,SAAS,SAAS;gBACjB,OAAO;YACT;SACD;IACH;AACF","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/pkg/libraries/rest-api/index.ts"],"sourcesContent":["export { restApiFetcher } from './fetcher/rest-api.fetcher'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/app/entities/api/books/books.api.ts"],"sourcesContent":["import { QueryFunctionContext } from '@tanstack/react-query'\n\nimport { restApiFetcher } from '@/pkg/libraries/rest-api'\n\nimport { type IBook } from '../../models/book.model'\n\nexport const booksQueryApi = async (opt: QueryFunctionContext, queryParams?: { search?: string }) => {\n  const { search } = queryParams || {}\n\n  const hasSearch = search && search.trim().length > 0\n  const url = hasSearch ? `api/books?search=${encodeURIComponent(search.trim())}` : 'api/books'\n\n  const res = await restApiFetcher\n    .get<IBook[]>(url, {\n      signal: opt.signal,\n      cache: 'force-cache',\n      next: { revalidate: 30 },\n    })\n    .json()\n\n  if (!res) {\n    throw new Error('Books not found')\n  }\n\n  return res\n}\n"],"names":[],"mappings":";;;;AAEA;AAAA;;AAIO,MAAM,gBAAgB,OAAO,KAA2B;IAC7D,MAAM,EAAE,MAAM,EAAE,GAAG,eAAe,CAAC;IAEnC,MAAM,YAAY,UAAU,OAAO,IAAI,GAAG,MAAM,GAAG;IACnD,MAAM,MAAM,YAAY,CAAC,iBAAiB,EAAE,mBAAmB,OAAO,IAAI,KAAK,GAAG;IAElF,MAAM,MAAM,MAAM,6LAAc,CAC7B,GAAG,CAAU,KAAK;QACjB,QAAQ,IAAI,MAAM;QAClB,OAAO;QACP,MAAM;YAAE,YAAY;QAAG;IACzB,GACC,IAAI;IAEP,IAAI,CAAC,KAAK;QACR,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/victorhachkajlo/Desktop/new-project/src/app/%28app%29/%5Blocale%5D/page.tsx"],"sourcesContent":["import { type FC } from 'react'\nimport { HydrationBoundary, dehydrate } from '@tanstack/react-query'\n\nimport { getQueryClient } from '@/pkg/libraries/rest-api/service'\nimport { HomeModule } from '@/app/modules/home'\nimport { booksQueryApi } from '@/app/entities/api/books/books.api'\n\n// interface\ninterface IProps {}\n\nexport const revalidate = 30\n\n// component\nconst HomePage: FC<Readonly<IProps>> = async (props) => {\n  const queryClient = getQueryClient()\n\n  await queryClient.prefetchQuery({\n    queryKey: ['books', ''],\n    queryFn: (opt) => booksQueryApi(opt, {}),\n  })\n\n  // return\n  return (\n    <HydrationBoundary state={dehydrate(queryClient)}>\n      <HomeModule />\n    </HydrationBoundary>\n  )\n}\n\nexport default HomePage\n"],"names":[],"mappings":";;;;;;;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;;;;;;AAKO,MAAM,aAAa;AAE1B,YAAY;AACZ,MAAM,WAAiC,OAAO;IAC5C,MAAM,cAAc,IAAA,6LAAc;IAElC,MAAM,YAAY,aAAa,CAAC;QAC9B,UAAU;YAAC;YAAS;SAAG;QACvB,SAAS,CAAC,MAAQ,IAAA,uKAAa,EAAC,KAAK,CAAC;IACxC;IAEA,SAAS;IACT,qBACE,8OAAC,yMAAiB;QAAC,OAAO,IAAA,wLAAS,EAAC;kBAClC,cAAA,8OAAC,uMAAU;;;;;;;;;;AAGjB;uCAEe","debugId":null}}]
}
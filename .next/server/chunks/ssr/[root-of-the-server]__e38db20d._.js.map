{"version":3,"sources":["turbopack:///[project]/src/app/modules/home/home.module.tsx/__nextjs-internal-proxy.mjs","turbopack:///[project]/src/app/(app)/[locale]/page.tsx","turbopack:///[project]/src/app/modules/home/index.ts","turbopack:///[project]/src/app/entities/api/books/books.api.ts"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/modules/home/home.module.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/modules/home/home.module.tsx\",\n    \"default\",\n);\n","import { type FC } from 'react'\nimport { dehydrate, HydrationBoundary } from '@tanstack/react-query'\n\nimport { HomeModule } from '@/app/modules/home'\nimport { booksQueryApi } from '@/app/entities/api/books/books.api'\nimport { getQueryClient } from '@/pkg/libraries/rest-api/service'\n\n// interface\ninterface IProps {}\n\nexport const revalidate = 30\n\n// component\nconst HomePage: FC<Readonly<IProps>> = async (props) => {\n  const queryClient = getQueryClient()\n\n  await queryClient.prefetchQuery({\n    queryKey: ['books', ''],\n    queryFn: (opt) => booksQueryApi(opt, {}),\n  })\n\n  // return\n  return (\n    <HydrationBoundary state={dehydrate(queryClient)}>\n      <HomeModule />\n    </HydrationBoundary>\n  )\n}\n\nexport default HomePage\n","export { default as HomeModule } from './home.module'\n","import { QueryFunctionContext } from '@tanstack/react-query'\n\nimport { restApiFetcher } from '@/pkg/libraries/rest-api'\n\nimport { type IBook } from '../../models/book.model'\n\nexport const booksQueryApi = async (opt: QueryFunctionContext, queryParams?: { search?: string }) => {\n  const { search } = queryParams || {}\n\n  const hasSearch = search && search.trim().length > 0\n  const url = hasSearch ? `api/books?search=${encodeURIComponent(search.trim())}` : 'api/books'\n\n  const res = await restApiFetcher\n    .get<IBook[]>(url, {\n      signal: opt.signal,\n      cache: 'force-cache',\n      next: { revalidate: 30 },\n    })\n    .json()\n\n  if (!res) {\n    throw new Error('Books not found')\n  }\n\n  return res\n}\n"],"names":[],"mappings":"2UAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,sSAAwS,EACrU,qEACA,2DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAU,AAAJ,MAAU,kRAAoR,EACjT,iDACA,+HCJJ,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OCDA,EAAA,EAAA,CAAA,CAAA,OCEA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAIO,IAAM,EAAgB,MAAO,EAA2B,KAC7D,GAAM,QAAE,CAAM,CAAE,CAAG,GAAe,CAAC,EAG7B,EADY,AACN,GADgB,EAAO,IAAI,GAAG,MAAM,CAAG,EAC3B,CAAC,iBAAiB,EAAE,mBAAmB,EAAO,IAAI,IAAA,CAAK,CAAG,YAE5E,EAAM,MAAM,EAAA,cAAc,CAC7B,GAAG,CAAU,EAAK,CACjB,OAAQ,EAAI,MAAM,CAClB,MAAO,cACP,KAAM,CAAE,WAAY,EAAG,CACzB,GACC,IAAI,GAEP,GAAI,CAAC,EACH,GADQ,GACF,AAAI,MAAM,mBAGlB,OAAO,CACT,EFpBA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAQA,IAAM,EAAiC,MAAO,IAC5C,IAAM,EAAc,CAAA,EAAA,EAAA,cAAA,AAAc,IAQlC,OANA,MAAM,EAAY,aAAa,CAAC,CAC9B,SAAU,CAAC,QAAS,GAAG,CACvB,QAAS,AAAC,GAAQ,EAAc,EAAK,CAAC,EACxC,GAIE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CAAC,MAAO,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,YAClC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAU,CAAA,CAAA,IAGjB,mBAEe,iBAnBW","ignoreList":[0]}